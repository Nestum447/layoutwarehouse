<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Bodega Visual - 15 Racks A1→W6</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { font-family: Arial; background: #f0f0f0; margin:0; padding:10px; }
h2 { text-align:center; margin-bottom: 10px; }
.rack-container { margin-bottom:25px; }
.rack-title { font-weight:bold; margin-bottom:5px; text-align:center; }
.rack-line { display:flex; flex-wrap:nowrap; overflow-x:auto; gap:5px; padding:10px; background:#fff; border:1px solid #333; border-radius:6px; }
.subcuadro { 
  min-width: 45px; 
  height: 45px; 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  font-size:12px; 
  cursor:pointer; 
  user-select:none; 
  border-radius:5px;
  border:1px solid #555;
}
.subcuadro.seleccionado { background:#4caf50; color:white; }
.subcuadro.no-seleccionado { background:#ccc; color:black; }
#info { margin:10px; font-weight:bold; text-align:center; }
</style>
</head>
<body>

<h2>Bodega Visual - 15 Racks (A1 → W6)</h2>
<div id="bodega"></div>
<div id="info">
  Total sub-ubicaciones seleccionadas: <span id="totalSel">0</span> / No seleccionadas: <span id="totalNoSel">0</span>
</div>

<script>
const columnas = Array.from({length:23}, (_,i)=>String.fromCharCode(65+i)); // A-W
const niveles = [1,2,3,4,5,6];
const subUbicaciones = [1,2,3];
const totalRacks = 15;

const bodega = document.getElementById("bodega");

for(let r=1; r<=totalRacks; r++){
  const rackDiv = document.createElement("div");
  rackDiv.classList.add("rack-container");

  const rackTitle = document.createElement("div");
  rackTitle.classList.add("rack-title");
  rackTitle.textContent = `Rack ${r}`;
  rackDiv.appendChild(rackTitle);

  const rackLine = document.createElement("div");
  rackLine.classList.add("rack-line");

  columnas.forEach(col=>{
    niveles.forEach(niv=>{
      subUbicaciones.forEach(sub=>{
        const subDiv = document.createElement("div");
        subDiv.classList.add("subcuadro","seleccionado"); // todas seleccionadas por defecto
        subDiv.dataset.rack = r;
        subDiv.dataset.col = col;
        subDiv.dataset.niv = niv;
        subDiv.dataset.sub = sub;
        subDiv.title = `Rack${r}-${col}${niv}-S${sub}`;
        subDiv.textContent = `${col}${niv}`;

        subDiv.addEventListener("click", ()=>{
          if(subDiv.classList.contains("seleccionado")){
            subDiv.classList.remove("seleccionado");
            subDiv.classList.add("no-seleccionado");
          } else {
            subDiv.classList.remove("no-seleccionado");
            subDiv.classList.add("seleccionado");
          }
          updateTotales();
        });

        rackLine.appendChild(subDiv);
      });
    });
  });

  rackDiv.appendChild(rackLine);
  bodega.appendChild(rackDiv);
}

function updateTotales(){
  const todos = document.querySelectorAll(".subcuadro");
  const sel = document.querySelectorAll(".subcuadro.seleccionado");
  document.getElementById("totalSel").textContent = sel.length;
  document.getElementById("totalNoSel").textContent = todos.length - sel.length;
}

updateTotales();
</script>
</body>
</html>
